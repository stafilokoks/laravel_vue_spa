import{r as b,u as _,a as x,b as f,o as n,c as i,d as e,e as u,t as g,f as h,w,g as l,v as d,h as y,j as v,i as k}from"./app-457d9ccf.js";import{_ as N}from"./ErrorsLabel-ba55a3ea.js";const S={class:"mx-auto w-4/12 mt-10 bg-blue-200 p-4 rounded-lg"},E={class:"bg-white shadow-lg rounded-lg px-8 pt-6 pb-8 mb-2 flex flex-col"},V=e("h1",{class:"text-gray-600 py-5 font-bold text-3xl"}," Create Account ",-1),U={key:0,class:"list-disc text-red-400"},R=["onSubmit"],C={class:"mb-4 mt-3"},M=e("label",{class:"block text-grey-darker text-sm font-bold mb-2",for:"name"}," Name ",-1),j={class:"mb-4"},q=e("label",{class:"block text-grey-darker text-sm font-bold mb-2",for:"email"}," Email Address ",-1),A={class:"mb-4"},B=e("label",{class:"block text-grey-darker text-sm font-bold mb-2",for:"password"}," Password ",-1),I={class:"flex items-center justify-between"},T=e("button",{class:"bg-blue-500 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded",type:"submit"}," Register ",-1),D=v(" Login "),K={name:"Register",setup(L){const a=b();let c=_();const o=x({name:"",email:"",password:""}),p=async m=>{const s="Unexpected register error. Please try again.";a.value=null;try{const t=await k.post("/api/auth/register",o);t.status===200&&t.data&&t.data.token&&(localStorage.setItem("USER_TOKEN",t.data.token),localStorage.setItem("USER_NAME",t.data.userName),await c.push({name:"Index"}))}catch(t){t.response.data&&t.response.data.errors?a.value=Object.values(t.response.data.errors):a.value=t.response.data.message||s}};return(m,s)=>{const t=f("router-link");return n(),i("div",S,[e("div",E,[V,u(N,{errors:a.value},null,8,["errors"]),typeof a.value=="string"?(n(),i("p",U,g(a.value),1)):h("",!0),e("form",{method:"post",onSubmit:w(p,["prevent"])},[e("div",C,[M,l(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker",id:"name",type:"text",required:"","onUpdate:modelValue":s[0]||(s[0]=r=>o.name=r)},null,512),[[d,o.name]])]),e("div",j,[q,l(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker",type:"email",id:"email",required:"","onUpdate:modelValue":s[1]||(s[1]=r=>o.email=r)},null,512),[[d,o.email]])]),e("div",A,[B,l(e("input",{class:"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-3",id:"password",type:"password",required:"","onUpdate:modelValue":s[2]||(s[2]=r=>o.password=r)},null,512),[[d,o.password]])]),e("div",I,[T,u(t,{class:"inline-block align-baseline font-bold text-sm text-blue hover:text-blue-darker",to:"Login"},{default:y(()=>[D]),_:1})])],40,R)])])}}};export{K as default};
