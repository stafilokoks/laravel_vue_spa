import{_ as f,r as g,u as x,a as h,b as d,o as i,c,d as o,e as m,t as w,f as y,w as v,g as p,v as u,h as k,i as E,j as L}from"./app-457d9ccf.js";import{_ as S}from"./ErrorsLabel-ba55a3ea.js";const N={components:{ErrorsLabel:S},setup(){const r=g(),t=x(),n=h({email:"",password:""});return{form:n,errors:r,handleLogin:async()=>{const l="Unexpected login error. Please try again.";r.value=null;try{const e=await E.post("/api/auth/login",n);e.status===200&&e.data&&e.data.token?(localStorage.setItem("USER_TOKEN",e.data.token),localStorage.setItem("USER_NAME",e.data.userName),await t.push({name:"Index"})):r.value=l}catch(e){e&&e.response.data&&e.response.data.errors?r.value=Object.values(e.response.data.errors):r.value=e.response.data.message||l}}}}},U={class:"mx-auto w-4/12 mt-10 bg-blue-200 p-4 rounded-lg"},V={class:"bg-white shadow-lg rounded-lg p x-8 p-6 flex flex-col"},I=o("h1",{class:"text-gray-600 py-5 font-bold text-3xl"}," Login ",-1),M={key:0,class:"list-disc text-red-400"},R={class:"mb-4"},j=o("label",{class:"block text-grey-darker text-sm font-bold mb-2",for:"username"}," Email Address ",-1),B={class:"mb-4"},C=o("label",{class:"block text-grey-darker text-sm font-bold mb-2",for:"password"}," Password ",-1),T={class:"flex items-center justify-between"},q=o("button",{class:"bg-blue-500 hover:bg-blue-900 text-white font-bold py-2 px-4 rounded",type:"submit"}," Sign In ",-1),A=L(" Sign Up ");function D(r,t,n,s,l,e){const b=d("ErrorsLabel"),_=d("router-link");return i(),c("div",U,[o("div",V,[I,m(b,{errors:s.errors},null,8,["errors"]),typeof s.errors=="string"?(i(),c("p",M,w(s.errors),1)):y("",!0),o("form",{method:"post",onSubmit:t[2]||(t[2]=v((...a)=>s.handleLogin&&s.handleLogin(...a),["prevent"]))},[o("div",R,[j,p(o("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker",id:"username",type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>s.form.email=a),required:""},null,512),[[u,s.form.email]])]),o("div",B,[C,p(o("input",{class:"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-3",id:"password",type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>s.form.password=a),required:""},null,512),[[u,s.form.password]])]),o("div",T,[q,m(_,{class:"inline-block align-baseline font-bold text-sm text-blue hover:text-blue-darker",to:"Register"},{default:k(()=>[A]),_:1})])],32)])])}const K=f(N,[["render",D]]);export{K as default};
